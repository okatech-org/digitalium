import { createContext, useContext, useState, useEffect, ReactNode } from "react";

type Language = "fr" | "en";

interface LanguageContextType {
  language: Language;
  setLanguage: (lang: Language) => void;
  t: (key: string) => string;
}

const translations = {
  fr: {
    // Navigation
    "nav.home": "Accueil",
    "nav.services": "Services",
    "nav.solutions": "Solutions",
    "nav.features": "Fonctionnalit√©s",
    "nav.contact": "Contact",
    "nav.login": "Connexion",
    "nav.start": "Commencer",
    "nav.dashboard": "Mon Espace",
    
    // Hero
    "hero.title1": "Votre",
    "hero.title2": "Archiviste",
    "hero.title3": "Intelligent",
    "hero.description": "De votre poche √† la Nation ‚Äî La premi√®re plateforme d'archivage intelligent multi-√©chelle. Num√©risez, organisez et s√©curisez vos documents avec l'IA.",
    "hero.cta.primary": "Essayer Gratuitement",
    "hero.cta.secondary": "Voir la D√©mo",
    
    // Services
    "services.title1": "Des Solutions",
    "services.title2": "Compl√®tes",
    "services.description": "DIGITALIUM transforme la gestion documentaire du citoyen √† l'institution.",
    "services.scan.title": "Scan Intelligent",
    "services.scan.description": "Num√©risez vos documents avec notre technologie OCR avanc√©e.",
    "services.ai.title": "Assistant IA",
    "services.ai.description": "Un archiviste intelligent disponible 24/7.",
    "services.security.title": "S√©curit√© Souveraine",
    "services.security.description": "Chiffrement de niveau bancaire, h√©bergement local.",
    "services.persona.title": "Multi-Persona",
    "services.persona.description": "Interface adapt√©e √† chaque profil utilisateur.",
    "services.offline.title": "Mode Offline",
    "services.offline.description": "Travaillez sans connexion, sync automatique.",
    "services.workflow.title": "Workflows",
    "services.workflow.description": "Automatisez vos processus documentaires.",
    "services.learnMore": "En savoir plus",
    "services.cta": "D√©couvrir tous nos services",
    
    // Solutions
    "solutions.title1": "Une Solution",
    "solutions.title2": "Adapt√©e",
    "solutions.description": "Du particulier √† l'administration publique, DIGITALIUM s'adapte √† votre √©chelle.",
    "solutions.popular": "Plus populaire",
    "solutions.choose": "Choisir",
    "solutions.citizen.title": "Citoyens",
    "solutions.citizen.subtitle": "DIGITALIUM Personnel",
    "solutions.citizen.description": "Organisez tous vos documents administratifs simplement.",
    "solutions.citizen.price": "Gratuit",
    "solutions.citizen.f1": "CNI, passeport, dipl√¥mes",
    "solutions.citizen.f2": "Rappels d'expiration",
    "solutions.citizen.f3": "100 docs gratuits",
    "solutions.business.title": "Entreprises",
    "solutions.business.subtitle": "DIGITALIUM Business",
    "solutions.business.description": "Digitalisez votre gestion documentaire.",
    "solutions.business.price": "15 000 XAF/mois",
    "solutions.business.f1": "Multi-utilisateurs",
    "solutions.business.f2": "Workflows automatis√©s",
    "solutions.business.f3": "API & Int√©grations",
    "solutions.institution.title": "Institutions",
    "solutions.institution.subtitle": "DIGITALIUM Souverain",
    "solutions.institution.description": "Solution souveraine pour les administrations.",
    "solutions.institution.price": "Sur devis",
    "solutions.institution.f1": "H√©bergement Gabon",
    "solutions.institution.f2": "Support 24/7",
    "solutions.institution.f3": "Formation incluse",
    "solutions.trust": "Ils nous font confiance",
    
    // Features
    "features.title1": "L'IA qui",
    "features.title2": "Travaille",
    "features.title3": "pour Vous",
    "features.description": "Une exp√©rience de gestion documentaire fluide et intuitive.",
    "features.assistant.title": "Assistant IA",
    "features.assistant.description": "Parlez naturellement √† votre archiviste IA pour organiser vos documents.",
    "features.scan.title": "Scan Intelligent",
    "features.scan.description": "Num√©risez avec votre smartphone, l'IA extrait automatiquement le texte.",
    "features.organization.title": "Organisation Auto",
    "features.organization.description": "L'IA classe automatiquement vos documents par cat√©gorie et date.",
    "features.alerts.title": "Alertes Intelligentes",
    "features.alerts.description": "Soyez pr√©venu avant l'expiration de vos documents importants.",
    "features.share.title": "Partage S√©curis√©",
    "features.share.description": "Partagez des documents avec contr√¥le total des permissions.",
    "features.encryption.title": "Chiffrement E2E",
    "features.encryption.description": "Vos documents sensibles chiffr√©s, m√™me nous ne pouvons les lire.",
    "features.demo.title": "Voyez l'IA en Action",
    "features.demo.request": "Pr√©pare un dossier pour ma demande de visa France",
    "features.demo.response": "J'ai trouv√© 5 documents dans vos archives. Je cr√©e le dossier 'Visa France 2024' avec : passeport, relev√©s bancaires (3 derniers mois), attestation employeur...",
    
    // Contact
    "contact.title1": "Parlons de Votre",
    "contact.title2": "Projet",
    "contact.description": "Notre √©quipe est disponible pour r√©pondre √† toutes vos questions et vous accompagner dans votre transformation digitale.",
    "contact.address": "Adresse",
    "contact.address.value": "Libreville, Gabon",
    "contact.phone": "T√©l√©phone",
    "contact.phone.value": "+241 XX XX XX XX",
    "contact.email": "Email",
    "contact.email.value": "contact@digitalium.ga",
    "contact.hours": "Horaires",
    "contact.hours.value": "Lun-Ven : 8h-18h",
    "contact.form.name": "Votre nom *",
    "contact.form.email": "Votre email *",
    "contact.form.subject": "Sujet",
    "contact.form.message": "Votre message *",
    "contact.form.submit": "Envoyer le message",
    "contact.form.sending": "Envoi en cours...",
    "contact.form.success.title": "Message Envoy√© !",
    "contact.form.success.description": "Notre √©quipe vous r√©pondra sous 24h.",
    "contact.form.new": "Envoyer un nouveau message",
    "contact.form.required": "Champs requis",
    "contact.form.required.description": "Veuillez remplir tous les champs obligatoires.",
    "contact.form.error": "Erreur",
    "contact.form.error.description": "Une erreur est survenue. Veuillez r√©essayer.",
    "contact.map": "Carte",
    "contact.callNow": "Appelez-nous maintenant",
    
    // FAQ
    "faq.badge": "FAQ",
    "faq.title1": "Questions",
    "faq.title2": "Fr√©quentes",
    "faq.description": "Tout ce que vous devez savoir sur DIGITALIUM et comment il peut transformer votre gestion documentaire.",
    "faq.more": "Vous avez d'autres questions ?",
    "faq.contact": "Contactez notre √©quipe",
    "faq.q1": "Qu'est-ce que DIGITALIUM et comment fonctionne-t-il ?",
    "faq.a1": "DIGITALIUM est la premi√®re plateforme d'archivage intelligent multi-√©chelle qui combine IA g√©n√©rative et rigueur institutionnelle. Notre assistant archiviste analyse automatiquement vos documents, les classe, extrait les m√©tadonn√©es et vous aide √† les retrouver instantan√©ment gr√¢ce √† une recherche s√©mantique avanc√©e.",
    "faq.q2": "Mes documents sont-ils s√©curis√©s sur DIGITALIUM ?",
    "faq.a2": "Absolument. Nous utilisons un chiffrement AES-256 pour les donn√©es au repos et TLS 1.3 pour les donn√©es en transit. Pour les institutions, nous proposons une option de chiffrement de bout en bout avec h√©bergement souverain au Gabon. Toutes les actions sont trac√©es dans un journal d'audit immutable.",
    "faq.q3": "Quels types de documents puis-je scanner et archiver ?",
    "faq.a3": "DIGITALIUM accepte tous types de documents : CNI, passeports, dipl√¥mes, factures, contrats, actes notari√©s, relev√©s bancaires, certificats m√©dicaux, et bien plus. Notre IA d√©tecte automatiquement le type de document et l'organise dans la bonne cat√©gorie.",
    "faq.q4": "Puis-je utiliser DIGITALIUM hors ligne ?",
    "faq.a4": "Oui ! DIGITALIUM fonctionne en mode offline-first. Vous pouvez scanner, organiser et consulter vos documents m√™me sans connexion internet. Tout se synchronise automatiquement d√®s que vous retrouvez une connexion.",
    "faq.q5": "Comment fonctionne la tarification ?",
    "faq.a5": "Nous proposons une offre gratuite avec 1 Go de stockage et 100 documents. L'offre Personal √† 2 000 XAF/mois inclut 10 Go et documents illimit√©s. L'offre Family √† 5 000 XAF/mois permet jusqu'√† 5 utilisateurs. Pour les entreprises et institutions, contactez-nous pour un devis personnalis√©.",
    "faq.q6": "L'IA peut-elle vraiment comprendre mes documents ?",
    "faq.a6": "Oui, notre IA utilise des mod√®les de derni√®re g√©n√©ration pour analyser visuellement et textuellement vos documents. Elle peut extraire des donn√©es structur√©es (dates, montants, noms), d√©tecter les documents expir√©s, et m√™me vous sugg√©rer des actions comme la cr√©ation de dossiers th√©matiques.",
    "faq.q7": "Comment DIGITALIUM aide les entreprises ?",
    "faq.a7": "Pour les entreprises, DIGITALIUM offre des workflows automatis√©s (validation de factures, onboarding employ√©s), la gestion multi-utilisateurs avec RBAC, des tableaux de bord analytiques, l'int√©gration API, et des rapports de conformit√©. Le ROI moyen constat√© est de 253% avec un temps de retour sur investissement de 15 jours.",
    "faq.q8": "DIGITALIUM est-il disponible pour les administrations publiques ?",
    "faq.a8": "Oui, nous proposons une offre Institutional sp√©cialement con√ßue pour les mairies, minist√®res et administrations. Elle inclut le d√©ploiement on-premise, l'h√©bergement souverain au Gabon, la conformit√© RGPD et loi gabonaise, ainsi qu'un support d√©di√© 24/7.",
    
    // Footer
    "footer.description": "L'archiviste intelligent qui transforme votre gestion documentaire. Made in Gabon üá¨üá¶",
    "footer.copyright": "Tous droits r√©serv√©s.",
    "footer.poweredBy": "Propuls√© par",
    "footer.product": "Produit",
    "footer.product.features": "Fonctionnalit√©s",
    "footer.product.solutions": "Solutions",
    "footer.product.pricing": "Tarifs",
    "footer.product.security": "S√©curit√©",
    "footer.company": "Entreprise",
    "footer.company.about": "√Ä propos",
    "footer.company.careers": "Carri√®res",
    "footer.company.partners": "Partenaires",
    "footer.company.blog": "Blog",
    "footer.resources": "Ressources",
    "footer.resources.docs": "Documentation",
    "footer.resources.api": "API",
    "footer.resources.support": "Support",
    "footer.resources.status": "Statut",
    "footer.legal": "L√©gal",
    "footer.legal.privacy": "Confidentialit√©",
    "footer.legal.terms": "CGU",
    "footer.legal.cookies": "Cookies",
    "footer.legal.licenses": "Licences",
    
    // Auth
    "auth.title": "DIGITALIUM",
    "auth.subtitle": "Acc√©dez √† votre espace personnel",
    "auth.login": "Connexion",
    "auth.signup": "Inscription",
    "auth.email": "Email",
    "auth.password": "Mot de passe",
    "auth.confirmPassword": "Confirmer le mot de passe",
    "auth.fullName": "Nom complet",
    "auth.emailPlaceholder": "vous@exemple.com",
    "auth.passwordPlaceholder": "‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢",
    "auth.namePlaceholder": "Jean Dupont",
    "auth.loginButton": "Se connecter",
    "auth.signupButton": "Cr√©er un compte",
    "auth.logging": "Connexion...",
    "auth.creating": "Cr√©ation...",
    "auth.loginError": "Erreur de connexion",
    "auth.loginErrorMsg": "Email ou mot de passe incorrect.",
    "auth.error": "Erreur",
    "auth.accountExists": "Compte existant",
    "auth.accountExistsMsg": "Un compte existe d√©j√† avec cet email. Connectez-vous plut√¥t.",
    "auth.signupError": "Erreur d'inscription",
    "auth.loginSuccess": "Connexion r√©ussie",
    "auth.loginSuccessMsg": "Bienvenue sur DIGITALIUM !",
    "auth.signupSuccess": "Compte cr√©√© !",
    "auth.signupSuccessMsg": "Bienvenue sur DIGITALIUM !",
    "auth.invalidEmail": "Email invalide",
    "auth.passwordMin": "Le mot de passe doit contenir au moins 6 caract√®res",
    "auth.nameMin": "Le nom doit contenir au moins 2 caract√®res",
    "auth.nameMax": "Le nom est trop long",
    "auth.passwordMismatch": "Les mots de passe ne correspondent pas",
    "auth.noAccount": "Pas encore de compte ?",
    "auth.hasAccount": "D√©j√† un compte ?",
  },
  en: {
    // Navigation
    "nav.home": "Home",
    "nav.services": "Services",
    "nav.solutions": "Solutions",
    "nav.features": "Features",
    "nav.contact": "Contact",
    "nav.login": "Login",
    "nav.start": "Get Started",
    "nav.dashboard": "Dashboard",
    
    // Hero
    "hero.title1": "Your",
    "hero.title2": "Intelligent",
    "hero.title3": "Archivist",
    "hero.description": "From your pocket to the Nation ‚Äî The first multi-scale intelligent archiving platform. Digitize, organize and secure your documents with AI.",
    "hero.cta.primary": "Try for Free",
    "hero.cta.secondary": "Watch Demo",
    
    // Services
    "services.title1": "Complete",
    "services.title2": "Solutions",
    "services.description": "DIGITALIUM transforms document management from citizens to institutions.",
    "services.scan.title": "Smart Scan",
    "services.scan.description": "Digitize your documents with our advanced OCR technology.",
    "services.ai.title": "AI Assistant",
    "services.ai.description": "An intelligent archivist available 24/7.",
    "services.security.title": "Sovereign Security",
    "services.security.description": "Bank-level encryption, local hosting.",
    "services.persona.title": "Multi-Persona",
    "services.persona.description": "Interface adapted to each user profile.",
    "services.offline.title": "Offline Mode",
    "services.offline.description": "Work without connection, automatic sync.",
    "services.workflow.title": "Workflows",
    "services.workflow.description": "Automate your document processes.",
    "services.learnMore": "Learn more",
    "services.cta": "Discover all our services",
    
    // Solutions
    "solutions.title1": "A Solution",
    "solutions.title2": "Adapted",
    "solutions.description": "From individuals to public administration, DIGITALIUM adapts to your scale.",
    "solutions.popular": "Most popular",
    "solutions.choose": "Choose",
    "solutions.citizen.title": "Citizens",
    "solutions.citizen.subtitle": "DIGITALIUM Personal",
    "solutions.citizen.description": "Organize all your administrative documents easily.",
    "solutions.citizen.price": "Free",
    "solutions.citizen.f1": "ID, passport, diplomas",
    "solutions.citizen.f2": "Expiration reminders",
    "solutions.citizen.f3": "100 free docs",
    "solutions.business.title": "Businesses",
    "solutions.business.subtitle": "DIGITALIUM Business",
    "solutions.business.description": "Digitize your document management.",
    "solutions.business.price": "15,000 XAF/month",
    "solutions.business.f1": "Multi-users",
    "solutions.business.f2": "Automated workflows",
    "solutions.business.f3": "API & Integrations",
    "solutions.institution.title": "Institutions",
    "solutions.institution.subtitle": "DIGITALIUM Sovereign",
    "solutions.institution.description": "Sovereign solution for administrations.",
    "solutions.institution.price": "On quote",
    "solutions.institution.f1": "Gabon hosting",
    "solutions.institution.f2": "24/7 Support",
    "solutions.institution.f3": "Training included",
    "solutions.trust": "They trust us",
    
    // Features
    "features.title1": "AI that",
    "features.title2": "Works",
    "features.title3": "for You",
    "features.description": "A smooth and intuitive document management experience.",
    "features.assistant.title": "AI Assistant",
    "features.assistant.description": "Talk naturally to your AI archivist to organize your documents.",
    "features.scan.title": "Smart Scan",
    "features.scan.description": "Scan with your smartphone, AI automatically extracts text.",
    "features.organization.title": "Auto Organization",
    "features.organization.description": "AI automatically classifies your documents by category and date.",
    "features.alerts.title": "Smart Alerts",
    "features.alerts.description": "Get notified before your important documents expire.",
    "features.share.title": "Secure Sharing",
    "features.share.description": "Share documents with full permission control.",
    "features.encryption.title": "E2E Encryption",
    "features.encryption.description": "Your sensitive documents encrypted, even we cannot read them.",
    "features.demo.title": "See AI in Action",
    "features.demo.request": "Prepare a folder for my France visa application",
    "features.demo.response": "I found 5 documents in your archives. I'm creating the 'France Visa 2024' folder with: passport, bank statements (last 3 months), employer certificate...",
    
    // Contact
    "contact.title1": "Let's Talk About Your",
    "contact.title2": "Project",
    "contact.description": "Our team is available to answer all your questions and support you in your digital transformation.",
    "contact.address": "Address",
    "contact.address.value": "Libreville, Gabon",
    "contact.phone": "Phone",
    "contact.phone.value": "+241 XX XX XX XX",
    "contact.email": "Email",
    "contact.email.value": "contact@digitalium.ga",
    "contact.hours": "Hours",
    "contact.hours.value": "Mon-Fri: 8am-6pm",
    "contact.form.name": "Your name *",
    "contact.form.email": "Your email *",
    "contact.form.subject": "Subject",
    "contact.form.message": "Your message *",
    "contact.form.submit": "Send message",
    "contact.form.sending": "Sending...",
    "contact.form.success.title": "Message Sent!",
    "contact.form.success.description": "Our team will respond within 24h.",
    "contact.form.new": "Send a new message",
    "contact.form.required": "Required fields",
    "contact.form.required.description": "Please fill in all required fields.",
    "contact.form.error": "Error",
    "contact.form.error.description": "An error occurred. Please try again.",
    "contact.map": "Map",
    "contact.callNow": "Call us now",
    
    // FAQ
    "faq.badge": "FAQ",
    "faq.title1": "Frequently",
    "faq.title2": "Asked Questions",
    "faq.description": "Everything you need to know about DIGITALIUM and how it can transform your document management.",
    "faq.more": "Have more questions?",
    "faq.contact": "Contact our team",
    "faq.q1": "What is DIGITALIUM and how does it work?",
    "faq.a1": "DIGITALIUM is the first multi-scale intelligent archiving platform that combines generative AI and institutional rigor. Our archivist assistant automatically analyzes your documents, classifies them, extracts metadata, and helps you find them instantly through advanced semantic search.",
    "faq.q2": "Are my documents secure on DIGITALIUM?",
    "faq.a2": "Absolutely. We use AES-256 encryption for data at rest and TLS 1.3 for data in transit. For institutions, we offer an end-to-end encryption option with sovereign hosting in Gabon. All actions are tracked in an immutable audit log.",
    "faq.q3": "What types of documents can I scan and archive?",
    "faq.a3": "DIGITALIUM accepts all types of documents: IDs, passports, diplomas, invoices, contracts, notarial deeds, bank statements, medical certificates, and more. Our AI automatically detects the document type and organizes it in the right category.",
    "faq.q4": "Can I use DIGITALIUM offline?",
    "faq.a4": "Yes! DIGITALIUM works in offline-first mode. You can scan, organize, and view your documents even without an internet connection. Everything syncs automatically as soon as you regain connection.",
    "faq.q5": "How does pricing work?",
    "faq.a5": "We offer a free tier with 1 GB of storage and 100 documents. The Personal plan at 2,000 XAF/month includes 10 GB and unlimited documents. The Family plan at 5,000 XAF/month allows up to 5 users. For businesses and institutions, contact us for a custom quote.",
    "faq.q6": "Can AI really understand my documents?",
    "faq.a6": "Yes, our AI uses state-of-the-art models to visually and textually analyze your documents. It can extract structured data (dates, amounts, names), detect expired documents, and even suggest actions like creating thematic folders.",
    "faq.q7": "How does DIGITALIUM help businesses?",
    "faq.a7": "For businesses, DIGITALIUM offers automated workflows (invoice validation, employee onboarding), multi-user management with RBAC, analytics dashboards, API integration, and compliance reports. The average ROI observed is 253% with a 15-day payback period.",
    "faq.q8": "Is DIGITALIUM available for public administrations?",
    "faq.a8": "Yes, we offer an Institutional plan specially designed for city halls, ministries, and administrations. It includes on-premise deployment, sovereign hosting in Gabon, GDPR and Gabonese law compliance, and dedicated 24/7 support.",
    
    // Footer
    "footer.description": "The intelligent archivist that transforms your document management. Made in Gabon üá¨üá¶",
    "footer.copyright": "All rights reserved.",
    "footer.poweredBy": "Powered by",
    "footer.product": "Product",
    "footer.product.features": "Features",
    "footer.product.solutions": "Solutions",
    "footer.product.pricing": "Pricing",
    "footer.product.security": "Security",
    "footer.company": "Company",
    "footer.company.about": "About",
    "footer.company.careers": "Careers",
    "footer.company.partners": "Partners",
    "footer.company.blog": "Blog",
    "footer.resources": "Resources",
    "footer.resources.docs": "Documentation",
    "footer.resources.api": "API",
    "footer.resources.support": "Support",
    "footer.resources.status": "Status",
    "footer.legal": "Legal",
    "footer.legal.privacy": "Privacy",
    "footer.legal.terms": "Terms",
    "footer.legal.cookies": "Cookies",
    "footer.legal.licenses": "Licenses",
    
    // Auth
    "auth.title": "DIGITALIUM",
    "auth.subtitle": "Access your personal space",
    "auth.login": "Login",
    "auth.signup": "Sign up",
    "auth.email": "Email",
    "auth.password": "Password",
    "auth.confirmPassword": "Confirm password",
    "auth.fullName": "Full name",
    "auth.emailPlaceholder": "you@example.com",
    "auth.passwordPlaceholder": "‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢",
    "auth.namePlaceholder": "John Doe",
    "auth.loginButton": "Sign in",
    "auth.signupButton": "Create account",
    "auth.logging": "Signing in...",
    "auth.creating": "Creating...",
    "auth.loginError": "Login error",
    "auth.loginErrorMsg": "Incorrect email or password.",
    "auth.error": "Error",
    "auth.accountExists": "Account exists",
    "auth.accountExistsMsg": "An account already exists with this email. Please sign in instead.",
    "auth.signupError": "Signup error",
    "auth.loginSuccess": "Login successful",
    "auth.loginSuccessMsg": "Welcome to DIGITALIUM!",
    "auth.signupSuccess": "Account created!",
    "auth.signupSuccessMsg": "Welcome to DIGITALIUM!",
    "auth.invalidEmail": "Invalid email",
    "auth.passwordMin": "Password must be at least 6 characters",
    "auth.nameMin": "Name must be at least 2 characters",
    "auth.nameMax": "Name is too long",
    "auth.passwordMismatch": "Passwords do not match",
    "auth.noAccount": "Don't have an account?",
    "auth.hasAccount": "Already have an account?",
  },
};

const LanguageContext = createContext<LanguageContextType | undefined>(undefined);

export const LanguageProvider = ({ children }: { children: ReactNode }) => {
  const [language, setLanguageState] = useState<Language>(() => {
    const saved = localStorage.getItem("language");
    return (saved as Language) || "fr";
  });

  const setLanguage = (lang: Language) => {
    setLanguageState(lang);
    localStorage.setItem("language", lang);
  };

  const t = (key: string): string => {
    return translations[language][key as keyof typeof translations.fr] || key;
  };

  return (
    <LanguageContext.Provider value={{ language, setLanguage, t }}>
      {children}
    </LanguageContext.Provider>
  );
};

export const useLanguage = () => {
  const context = useContext(LanguageContext);
  if (!context) {
    throw new Error("useLanguage must be used within a LanguageProvider");
  }
  return context;
};
